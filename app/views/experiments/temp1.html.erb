<div class="subtitle">Temperature Experiment 1</div>

<p>
A graph of Today's temperature in <strong>Melbourne, Victoria, Australia</strong>.
</p>


<p>
There were <strong><%= @summary["total"] %></strong> observations for today between <strong><%= @summary["start_time"] %></strong> and <strong><%= @summary["end_time"] %></strong>. <br />
The low was <strong><%= @summary["min"] %>&deg;C</strong>, the high was <strong><%= @summary["max"] %>&deg;C</strong>, the mean temperature was <strong><%= @summary["mean"].round(1) %>&deg;C</strong>. <br />
The last observation was <strong><%= @summary["last_temp"] %>&deg;C</strong> at <strong><%= @summary["last_time"] %></strong> (<%= (Time.now-Time.parse(@summary["last_time"])).to_i/60 %> minutes ago).


</p>

<p>
  <img src="<%=make_day_temp_graph_img_url(@temp_data) -%>" />
</p>

<p>
  The data comes from the <%= link_to "Latest Weather Observations for Melbourne", "http://www.bom.gov.au/products/IDV60801/IDV60801.94868.shtml" %>.
  <br />
  See the <%= link_to "JSON Source", @jsonurl %>.
</p>


Change Station: 
<% form_for "station", :url => experiment1_path do |f| %>
  <%= f.select("id", Station.all.collect {|p| [ p.name, p.id ] }) %>
  <%= f.submit 'Change' %>
<% end %>





<br />
<p>
<strong>TODOs</strong>
<ul>
  <li>User selection of weather station (not hard coded to melbourne)</li>
  <li>Unclutter x axis labels.</li>
  <li>Separate y-axis labels from scaling method (nice/consistent labels)</li>
  <li>Moving average? Regression?</li>
  <li>Include forecast high and low?</li>
  <li>Aesthetics, make it look sexy</li>
</ul>
</p>
